{"version":3,"sources":["pages/login/index.module.scss","pages/login/index.tsx"],"names":["module","exports","schema","yup","shape","email","required","password","code","transform","currentValue","originalValue","matches","message","nullable","Login","history","useHistory","useState","loading","setLoading","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","className","styles","container","login","type","placeholder","classNames","error","onClick","data","console","log","setTimeout","push","routesPath","home","setting"],"mappings":"uHACAA,EAAOC,QAAU,CAAC,UAAY,yBAAyB,MAAQ,qBAAqB,aAAe,4BAA4B,aAAe,4BAA4B,gBAAkB,+BAA+B,YAAc,2BAA2B,MAAQ,uB,uLCQtQC,EAASC,MAAaC,MAAM,CAChCC,MAAOF,MAAaG,SAAS,iCAAaD,MAAM,uCAChDE,SAAUJ,MAAaG,SAAS,oCAChCE,KAAML,MAEHM,WAAU,SAACC,EAAcC,GACxB,MAAyB,KAAlBA,EAAuB,KAAOD,KAEtCE,QAAQ,QAAS,CAAEC,QAAS,yCAC5BC,aA6EUC,UAtED,WAAO,IAAD,YACZC,EAAUC,cADE,EAEYC,oBAAS,GAFrB,mBAEXC,EAFW,KAEFC,EAFE,OAOdC,YAAgB,CAClBC,SAAUC,YAAYrB,KAJtBsB,EAJgB,EAIhBA,SACAC,EALgB,EAKhBA,aACaC,EANG,EAMhBC,UAAaD,OAWf,OACE,qBAAKE,UAAWC,IAAOC,UAAvB,SACE,qBAAKF,UAAWC,IAAOE,MAAvB,SACE,iCACE,qBAAKH,UAAWC,IAAM,aAAtB,wDACA,sBAAKD,UAAWC,IAAM,aAAtB,UACE,mCACEG,KAAK,OACLC,YAAY,iCACZL,UAAWM,IAAW,eACnBL,IAAOM,MADW,UACHT,EAAOrB,aADJ,aACH,EAAcQ,WAE5BW,EAAS,WAEf,sCAAIE,EAAOrB,aAAX,aAAI,EAAcQ,aAEpB,sBAAKe,UAAWC,IAAM,gBAAtB,UACE,mCACEG,KAAK,OACLC,YAAY,2BACZL,UAAWM,IAAW,eACnBL,IAAOM,MADW,UACHT,EAAOnB,gBADJ,aACH,EAAiBM,WAE/BW,EAAS,cAEf,sCAAIE,EAAOnB,gBAAX,aAAI,EAAiBM,aAEvB,sBAAKe,UAAWC,IAAM,YAAtB,UACE,mCACEG,KAAK,OACLC,YAAY,6CACZL,UAAWM,IAAW,eACnBL,IAAOM,MADW,UACHT,EAAOlB,YADJ,aACH,EAAaK,WAE3BW,EAAS,UAEf,sCAAIE,EAAOlB,YAAX,aAAI,EAAaK,aAEnB,qBAAKe,UAAWC,IAAM,cAAtB,SACE,mBACEV,QAASA,EACTa,KAAK,UACLI,QAASX,GAjDmB,SAACY,GACvCC,QAAQC,IAAIF,EAAM,SAClBjB,GAAW,GACXoB,YAAW,WACTxB,EAAQyB,KAAKC,IAAWC,KAAKC,WAC5B,QAyCK","file":"static/js/9.8bb3758a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__3f4Dd\",\"login\":\"login_login__27MpQ\",\"login__title\":\"login_login__title__3KqxP\",\"login__email\":\"login_login__email__3WqAk\",\"login__password\":\"login_login__password__1fFYm\",\"login__code\":\"login_login__code__HTwnI\",\"error\":\"login_error__13Lea\"};","import React, { useState } from 'react';\nimport { Button } from 'antd-mobile';\nimport { useForm, SubmitHandler } from 'react-hook-form';\nimport { useHistory } from 'react-router-dom';\nimport routesPath from 'config/routesPath';\nimport classNames from 'classnames';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport styles from './index.module.scss';\nconst schema = yup.object().shape({\n  email: yup.string().required('email为必填项').email('必须为email格式'),\n  password: yup.string().required('password为必填项'),\n  code: yup\n    .string()\n    .transform((currentValue, originalValue) => {\n      return originalValue === '' ? null : currentValue;\n    })\n    .matches(/^\\d+$/, { message: '必须为正整数' })\n    .nullable(),\n});\ntype Inputs = {\n  email: string;\n  password: string;\n  code: string;\n};\nconst Login = () => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<Inputs>({\n    resolver: yupResolver(schema),\n  });\n  const onSubmit: SubmitHandler<Inputs> = (data) => {\n    console.log(data, 'data-');\n    setLoading(true);\n    setTimeout(() => {\n      history.push(routesPath.home.setting);\n    }, 2000);\n  };\n  return (\n    <div className={styles.container}>\n      <div className={styles.login}>\n        <form>\n          <div className={styles['login__title']}>请输入账号密码</div>\n          <div className={styles['login__email']}>\n            <input\n              type='text'\n              placeholder='请输入邮箱'\n              className={classNames({\n                [styles.error]: errors.email?.message,\n              })}\n              {...register('email')}\n            />\n            <p>{errors.email?.message}</p>\n          </div>\n          <div className={styles['login__password']}>\n            <input\n              type='text'\n              placeholder='输入密码'\n              className={classNames({\n                [styles.error]: errors.password?.message,\n              })}\n              {...register('password')}\n            />\n            <p>{errors.password?.message}</p>\n          </div>\n          <div className={styles['login__code']}>\n            <input\n              type='text'\n              placeholder='验证码（数字）'\n              className={classNames({\n                [styles.error]: errors.code?.message,\n              })}\n              {...register('code')}\n            />\n            <p>{errors.code?.message}</p>\n          </div>\n          <div className={styles['login__handle']}>\n            <Button\n              loading={loading}\n              type='primary'\n              onClick={handleSubmit(onSubmit)}\n            >\n              登陆\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}